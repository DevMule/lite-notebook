!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";async function parse(ch,element){ch.flags.indexOf("async")>=0?await eval(ch.content):eval(ch.content)}const js_parser={types:["js","javascript","java-script"],parse:parse};__webpack_exports__.a=js_parser},function(e,t,n){"use strict";n.r(t);class s{constructor(){this.chunks=[],this.tail=[],this.current=null,this.line=0,this.index=0}commit(){const e=this.current;e.commit(),this.chunks.push(e),this.current=null}addLines(e){this.current.addLines(e),this.line+=e.length;for(const t of e)this.index+=t.length+1}}class r{constructor(e,t,n,s){this.type=e,this.flags=t,this.index=n,this.startLine=s,this.endLine=s,this.content="",this.lines=[]}addLines(e){this.lines.push(...e),this.endLine+=e.length}commit(){this.content=this.lines.join("\n"),this.lines=[]}}function i(e,t,n=!0){const s=t.split("\n");let i=[];return s.forEach((function(t){if("%%"===t.slice(0,2)){i.length&&!e.current&&(e.current=new r("",[],0,0)),e.current&&(e.addLines(i),e.commit(),i=[]);let n=0;for(;"%"===t[n];)n+=1;const s=t.slice(n).split(/[ \t]+/).filter(e=>""!==e);e.current=new r(s[0],s.slice(1),e.index,e.line),e.index+=t.length+1}else i.push(t)})),n?(e.addLines(i),e.commit(),e.tail=[]):e.tail.push(...i),e}const a={};a.ParserState=s,a.Chunk=r,a.parseLines=i,a.parse=function(e){return i(new s,e,!0).chunks};var o=a;var c={types:["css"],parse:async function(e,t){let n=document.createElement("style");n.appendChild(document.createTextNode(e.content)),t.appendChild(n)}},l=n(0);async function d(e){let t=e.indexOf(":");if(t<0)return;let n=e.slice(0,t).trim(),s=e.slice(t+1,e.length).trim();if(n&&s)switch(n){case"js":await async function(e){return new Promise((t,n)=>{let s=document.createElement("script");document.head.appendChild(s),s.src=e,s.async=!1,s.onload=t,s.onerror=n})}(s);break;case"py":await async function(e){return await languagePluginLoader,pyodide.loadPackage([e])}(s);break;case"text":await async function(e){let t=e.indexOf("=");if(t<0)return;let n=e.slice(0,t).trim(),s=e.slice(t+1,e.length).trim();if(n&&s){let e=await fetch(s);self[n]=await e.text()}}(s)}}var u={types:["fetch"],parse:async function(e,t){let n=e.content.split("\n");for(let e=0;e<n.length;e++){let t=n[e].trim();t&&await d(t)}}};var p={types:["md"],parse:async function(e,t){let n=document.createElement("div");n.innerHTML=marked(e.content),n.classList&&n.classList.add("user-markdown"),t.appendChild(n)}};var h={types:["editor","code","ace"],parse:async function(e,t){let n=document.createElement("div");n.innerText=e.content;for(let t=0;t<e.flags.length;t++){let s=e.flags[t];if(s.startsWith("id")){let e=s.indexOf("=");if(e<0)continue;n.id=s.slice(e+1,s.length).trim()}}t.appendChild(n);const s=ace.edit("editor");s.getSession().setMode("ace/mode/python"),s.setOptions({maxLines:60,minLines:20})}};const f=[c,l.a,u,p,h];const m={root:"",screen:null,workerURL:"dist/worker.js",elements:{code_output:function(){let e=document.createElement("div");e.classList.add("code-output");let t=document.createElement("div");t.classList.add("code-btn-container"),e.appendChild(t);let n=document.createElement("div");n.classList.add("code-btn","code-btn-play"),t.appendChild(n);let s=document.createElement("div");s.classList.add("code-btn","code-btn-clear"),t.appendChild(s);let r=document.createElement("div");return r.classList.add("code-output-text"),e.appendChild(r),n.addEventListener("click",()=>e.dispatchEvent(new Event("onPlay"))),s.addEventListener("click",()=>e.dispatchEvent(new Event("onClear"))),e.output=r,e.attachEditor=t=>{let s=null;e.addEventListener("onPlay",()=>{s?(n.classList.remove("code-btn-stop"),n.classList.add("code-btn-play")):(s=lite_notebook.pyWorker,s.addEventListener("print",e=>{r.innerText+=String(e.message).replace(/\\n/g,"<br>")+"\n",r.scrollTop=r.scrollHeight}),s.run(t.getValue(),{},e=>{r.innerText+="process finished\n",r.scrollTop=r.scrollHeight,s.terminate(),s=null,n.classList.remove("code-btn-stop"),n.classList.add("code-btn-play")},e=>{r.innerText+=e.replace(/\\n/g,"<br>")+"\n",r.scrollTop=r.scrollHeight,s.terminate(),s=null,n.classList.remove("code-btn-stop"),n.classList.add("code-btn-play")}),n.classList.remove("code-btn-play"),n.classList.add("code-btn-stop"),r.innerText+="run...\n",r.scrollTop=r.scrollHeight)}),e.addEventListener("onClear",()=>r.innerText="")},e}},render_path:async function(e){m.root=e,m.screen=document.getElementById("screen");let t=await fetch(e+"/notebook"),n=await t.text();await async function(e,t){let n=o.parse(e);for(let e=0;e<n.length;e++){let s=n[e];if(!s.type)continue;let r=s.type.trim().toLowerCase(),i=f.find(e=>e.types.indexOf(r)>=0);i&&await i.parse(s,t)}}(n,m.screen)},get pyWorker(){return e=m.workerURL,{worker:new Worker(e),listeners:[],run:function(e,t,n,s){this.worker.onerror=s,this.worker.onmessage=e=>{const{results:t,error:r}=e.data;for(let t=0;t<this.listeners.length;t++)if(e.data.type===this.listeners[t].type)try{this.listeners[t].listener(e.data)}catch(e){console.error(e.message)}"end"===e.data.type&&n(e.data),r&&s(r)},this.worker.postMessage({...t,python:e})},asyncRun:function(e,t){return new Promise((n,s)=>this.run(e,t,n,s))},addEventListener(e,t){this.listeners.push({type:e,listener:t})},terminate(){this.worker.terminate()}};var e}};window.lite_notebook=m}]);