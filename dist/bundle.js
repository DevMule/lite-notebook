!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";async function parse(ch,element){ch.flags.indexOf("async")>=0?await eval(ch.content):eval(ch.content)}const js_parser={types:["js","javascript","java-script"],parse:parse};__webpack_exports__.a=js_parser},function(e,t,n){"use strict";n.r(t);class r{constructor(){this.chunks=[],this.tail=[],this.current=null,this.line=0,this.index=0}commit(){const e=this.current;e.commit(),this.chunks.push(e),this.current=null}addLines(e){this.current.addLines(e),this.line+=e.length;for(const t of e)this.index+=t.length+1}}class s{constructor(e,t,n,r){this.type=e,this.flags=t,this.index=n,this.startLine=r,this.endLine=r,this.content="",this.lines=[]}addLines(e){this.lines.push(...e),this.endLine+=e.length}commit(){this.content=this.lines.join("\n"),this.lines=[]}}function i(e,t,n=!0){const r=t.split("\n");let i=[];return r.forEach((function(t){if("%%"===t.slice(0,2)){i.length&&!e.current&&(e.current=new s("",[],0,0)),e.current&&(e.addLines(i),e.commit(),i=[]);let n=0;for(;"%"===t[n];)n+=1;const r=t.slice(n).split(/[ \t]+/).filter(e=>""!==e);e.current=new s(r[0],r.slice(1),e.index,e.line),e.index+=t.length+1}else i.push(t)})),n?(e.addLines(i),e.commit(),e.tail=[]):e.tail.push(...i),e}const o={};o.ParserState=r,o.Chunk=s,o.parseLines=i,o.parse=function(e){return i(new r,e,!0).chunks};var a=o;var c={types:["css"],parse:async function(e,t){let n=document.createElement("style");n.appendChild(document.createTextNode(e.content)),t.appendChild(n)}},l=n(0);async function u(e){let t=e.indexOf(":");if(t<0)return;let n=e.slice(0,t).trim(),r=e.slice(t+1,e.length).trim();if(n&&r)switch(n){case"js":await async function(e){return new Promise((t,n)=>{let r=document.createElement("script");document.head.appendChild(r),r.src=e,r.async=!1,r.onload=t,r.onerror=n})}(r);break;case"py":await async function(e){return await languagePluginLoader,pyodide.loadPackage([e])}(r)}}var d={types:["fetch"],parse:async function(e,t){let n=e.content.split("\n");for(let e=0;e<n.length;e++){let t=n[e].trim();t&&await u(t)}}};var p={types:["md"],parse:async function(e,t){let n=document.createElement("div");n.innerHTML=marked(e.content),n.classList&&n.classList.add("user-markdown"),t.appendChild(n)}};var h={types:["py","python"],parse:async function(e,t){await languagePluginLoader,e.flags.indexOf("async")>=0?await pyodide.runPythonAsync(e.content):pyodide.runPython(e.content)}};const f=[c,l.a,d,p,h];const y={root:"",screen:null,workerURL:"dist/worker.js",render_path:async function(e){y.root=e,y.screen=document.getElementById("screen");let t=await fetch(e+"/notebook"),n=await t.text();await async function(e,t){let n=a.parse(e);for(let e=0;e<n.length;e++){let r=n[e];if(!r.type)continue;let s=r.type.trim().toLowerCase(),i=f.find(e=>e.types.indexOf(s)>=0);i&&await i.parse(r,t)}}(n,y.screen)},get pyWorker(){return e=y.workerURL,{worker:new Worker(e),listeners:[],run:function(e,t,n,r){this.worker.onerror=r,this.worker.onmessage=e=>{const{results:t,error:s}=e.data;for(let t=0;t<this.listeners.length;t++)if(e.data.type===this.listeners[t].type)try{this.listeners[t].listener(e.data)}catch(e){console.error(e.message)}"end"===e.data.type&&n(e.data),s&&r(s)},this.worker.postMessage({...t,python:e})},asyncRun:function(e,t){return new Promise((n,r)=>this.run(e,t,n,r))},addEventListener(e,t){this.listeners.push({type:e,listener:t})},terminate(){this.worker.terminate()}};var e}};window.lite_notebook=y}]);